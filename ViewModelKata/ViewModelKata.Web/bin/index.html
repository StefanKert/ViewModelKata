<!DOCTYPE html>
<html>
<head>
    <title>SignalR Simple Chat</title>
    <style type="text/css">
        .container {
            background-color: #99CCFF;
            border: thick solid #808080;
            padding: 20px;
            margin: 20px;
        }
    </style>
</head>
    <body>
        <button id="showMessage">Klick mich biiitte :)</button>
        <button id="changeProperty">Change Property</button>
        <div class="container">
            <ul id="discussion"></ul>
        </div>
        <!--Script references. -->
        <!--Reference the jQuery library. -->
        <script src="Scripts/jquery-2.1.1.js"></script>
        <!--Reference the SignalR library. -->
        <script src="Scripts/jquery.signalR-2.0.3.min.js"></script>
        <!--Reference the autogenerated SignalR hub script. -->
        <script src="signalr/hubs"></script>
        <!--Add script to update the page and send messages.-->
        <script type="text/javascript">
            $(function () {
                var chat = $.connection.messageHub;

                chat.client.broadcastMessage = function (message) {
                    var encodedMsg = $('<div />').text(message).html();
                    $('#discussion').append('<li>' + encodedMsg + '</li>');
                };

                $.connection.hub.start().done(function () {
                    $('#showMessage').click(function () {
                        chat.server.clickButtonInvoker();
                    });
                    $('#changeProperty').click(function () {
                        chat.server.clickButtonChangePropertyInvoker();
                    });
                });
            });
        </script>
    </body>
</html>